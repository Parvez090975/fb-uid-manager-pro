<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FB UID Manager Pro</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            background-color: #121212; 
            color: #e0e0e0; 
            font-family: 'Segoe UI', sans-serif; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            padding: 15px; 
            min-height: 100vh;
        }
        
        .container { 
            width: 100%; 
            max-width: 600px; 
            background: #1e1e1e; 
            padding: 20px; 
            border-radius: 12px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.8); 
        }
        
        h3 { 
            margin: 0 0 20px 0; 
            color: #4267B2; 
            text-align: center; 
            border-bottom: 2px solid #333; 
            padding-bottom: 10px; 
            font-size: 24px;
        }

        textarea { 
            width: 100%; 
            height: 120px; 
            background: #252525; 
            border: 1px solid #444; 
            color: #fff; 
            padding: 12px; 
            outline: none; 
            border-radius: 6px; 
            font-family: monospace; 
            font-size: 13px; 
            resize: vertical;
            transition: border 0.3s;
        }
        
        textarea:focus { border-color: #4267B2; }
        
        .controls { 
            margin-top: 15px; 
            display: grid; 
            grid-template-columns: 1fr 2fr; 
            gap: 10px; 
        }
        
        .main-btn { 
            padding: 12px; 
            border: none; 
            cursor: pointer; 
            font-weight: bold; 
            border-radius: 6px; 
            color: white; 
            transition: 0.3s; 
            font-size: 14px;
        }
        
        .btn-clear { background: #d32f2f; }
        .btn-clear:hover { background: #b71c1c; }
        
        .btn-process { background: #1976D2; }
        .btn-process:hover { background: #1565c0; }

        .save-bar { 
            margin-top: 15px; 
            background: #222; 
            padding: 12px; 
            border-radius: 6px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            border: 1px solid #333; 
        }
        
        .btn-download { 
            background: #ff9800; 
            color: #000; 
            border: none; 
            padding: 10px 18px; 
            border-radius: 5px; 
            font-weight: bold; 
            cursor: pointer;
            transition: 0.3s;
        }
        
        .btn-download:hover { background: #f57c00; }
        
        .result-container { 
            margin-top: 15px; 
            height: 450px; 
            overflow-y: auto; 
            border: 1px solid #333; 
            background: #121212; 
            border-radius: 6px; 
        }
        
        .result-row { 
            display: grid; 
            grid-template-columns: 1fr auto; 
            gap: 10px; 
            align-items: center; 
            padding: 12px; 
            border-bottom: 1px solid #2a2a2a; 
            transition: background 0.2s;
        }
        
        .result-row:hover { background: #1a1a1a; }

        .info-part { display: flex; flex-direction: column; }
        
        .uid-link { 
            color: #64b5f6; 
            text-decoration: none; 
            font-weight: bold; 
            font-family: monospace; 
            font-size: 14px;
            transition: 0.2s;
        }
        
        .uid-link:hover { 
            text-decoration: underline;
            color: #90caf9;
        }
        
        .uid-link.visited { 
            color: #666 !important; 
            text-decoration: line-through !important; 
            opacity: 0.6;
        }
        
        .pass-display { 
            font-size: 12px; 
            color: #999; 
            margin-top: 4px; 
            font-family: monospace;
        }

        .btn-group { 
            display: flex; 
            gap: 6px; 
            flex-wrap: wrap;
        }
        
        .mini-btn { 
            border: 1px solid #444; 
            background: #333; 
            color: #ccc; 
            padding: 6px 10px; 
            font-size: 11px; 
            cursor: pointer; 
            border-radius: 4px;
            transition: 0.2s;
        }
        
        .mini-btn:hover { 
            background: #444;
            color: #fff;
        }
        
        .btn-save { 
            background: #2e7d32; 
            border-color: #2e7d32; 
            color: white; 
        }
        
        .btn-save:hover { 
            background: #1b5e20; 
        }
        
        .btn-save:disabled { 
            background: #1b5e20; 
            opacity: 0.5; 
            cursor: default; 
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1a1a1a; }
        ::-webkit-scrollbar-thumb { background: #444; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }

        .empty-message {
            text-align: center;
            padding: 40px 20px;
            color: #666;
            font-size: 14px;
        }

        #count {
            color: #00e676;
            font-size: 18px;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="container">
    <h3>FB UID Manager Pro</h3>
    
    <textarea id="inputData" placeholder="Paste UID|PASS here..."></textarea>

    <div class="controls">
        <button class="main-btn btn-clear" onclick="clearAll()">Clear</button>
        <button class="main-btn btn-process" onclick="processList()">Process List</button>
    </div>

    <div class="save-bar">
        <span style="color: #ccc; font-size: 14px;">Saved: <b id="count">0</b></span>
        <button class="btn-download" onclick="downloadFile()">Download .txt</button>
    </div>

    <div class="result-container" id="list">
        <div class="empty-message">Paste UID|PASS and click Process List</div>
    </div>
</div>

<script>
    let savedList = [];

    function clearAll() {
        if(confirm("Clear all data?")) {
            document.getElementById('inputData').value = '';
            document.getElementById('list').innerHTML = '<div class="empty-message">Paste UID|PASS and click Process List</div>';
            savedList = [];
            document.getElementById('count').innerText = '0';
        }
    }

    function processList() {
        const raw = document.getElementById('inputData').value;
        const listDiv = document.getElementById('list');
        listDiv.innerHTML = '';
        savedList = [];
        document.getElementById('count').innerText = '0';

        if(!raw.trim()) {
            alert("Box empty!");
            return;
        }

        const lines = raw.split('\n');
        let count = 0;
        
        lines.forEach(line => {
            if(line.trim()) {
                let parts = line.split('|');
                let uid = parts[0].trim();
                let pass = parts.length > 1 ? parts[1].trim() : '';

                if(/^\d+$/.test(uid)) {
                    addRow(uid, pass);
                    count++;
                }
            }
        });

        if(count === 0) {
            listDiv.innerHTML = '<div class="empty-message">No valid UIDs found</div>';
        }
    }

    function addRow(uid, pass) {
        const listDiv = document.getElementById('list');
        const div = document.createElement('div');
        div.className = 'result-row';

        let passShow = pass ? '<div class="pass-display">Pw: ' + pass + '</div>' : '';
        let fullData = pass ? uid + '|' + pass : uid;
        
        let passBtn = pass ? '<button class="mini-btn" onclick="copyText(\'' + pass + '\', this)">Copy Pass</button>' : '';

        div.innerHTML = '<div class="info-part"><a href="https://www.facebook.com/' + uid + '" target="_blank" class="uid-link" onclick="markVisited(this)">' + uid + '</a>' + passShow + '</div><div class="btn-group"><button class="mini-btn" onclick="copyText(\'' + uid + '\', this)">Copy UID</button>' + passBtn + '<button class="mini-btn btn-save" onclick="saveID(\'' + fullData + '\', this)">Save</button></div>';
        
        listDiv.appendChild(div);
    }

    function markVisited(el) {
        el.classList.add('visited');
        return true;
    }

    function copyText(txt, btn) {
        navigator.clipboard.writeText(txt).then(() => {
            let oldText = btn.innerText;
            btn.innerText = "Copied";
            btn.style.color = "#4fc3f7";
            setTimeout(() => { 
                btn.innerText = oldText; 
                btn.style.color = "";
            }, 1500);
        });
    }

    function saveID(data, btn) {
        savedList.push(data);
        document.getElementById('count').innerText = savedList.length;
        
        btn.innerText = "Saved";
        btn.disabled = true;
        btn.style.opacity = "0.6";
    }

    function downloadFile() {
        if(savedList.length === 0) {
            alert("Nothing saved yet!");
            return;
        }
        
        let content = savedList.join('\n');
        let blob = new Blob([content], {type: "text/plain"});
        let url = URL.createObjectURL(blob);
        let a = document.createElement("a");
        a.href = url;
        a.download = "Active_UIDs.txt";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
    }
</script>

</body>
</html>